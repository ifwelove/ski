{"ast":null,"code":"import { isValidElement, version } from 'react';\nimport { ForwardRef, isMemo } from 'react-is';\nimport useMemo from \"./hooks/useMemo\";\nimport isFragment from \"./React/isFragment\";\nconst ReactMajorVersion = Number(version.split('.')[0]);\nexport const fillRef = (ref, node) => {\n  if (typeof ref === 'function') {\n    ref(node);\n  } else if (typeof ref === 'object' && ref && 'current' in ref) {\n    ref.current = node;\n  }\n};\n\n/**\n * Merge refs into one ref function to support ref passing.\n */\nexport const composeRef = function () {\n  for (var _len = arguments.length, refs = new Array(_len), _key = 0; _key < _len; _key++) {\n    refs[_key] = arguments[_key];\n  }\n  const refList = refs.filter(Boolean);\n  if (refList.length <= 1) {\n    return refList[0];\n  }\n  return node => {\n    refs.forEach(ref => {\n      fillRef(ref, node);\n    });\n  };\n};\nexport const useComposeRef = function () {\n  for (var _len2 = arguments.length, refs = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    refs[_key2] = arguments[_key2];\n  }\n  return useMemo(() => composeRef(...refs),\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  refs, (prev, next) => prev.length !== next.length || prev.every((ref, i) => ref !== next[i]));\n};\nexport const supportRef = nodeOrComponent => {\n  if (!nodeOrComponent) {\n    return false;\n  }\n\n  // React 19 no need `forwardRef` anymore. So just pass if is a React element.\n  if (isReactElement(nodeOrComponent) && ReactMajorVersion >= 19) {\n    return true;\n  }\n  const type = isMemo(nodeOrComponent) ? nodeOrComponent.type.type : nodeOrComponent.type;\n\n  // Function component node\n  if (typeof type === 'function' && !type.prototype?.render && type.$$typeof !== ForwardRef) {\n    return false;\n  }\n\n  // Class component\n  if (typeof nodeOrComponent === 'function' && !nodeOrComponent.prototype?.render && nodeOrComponent.$$typeof !== ForwardRef) {\n    return false;\n  }\n  return true;\n};\nfunction isReactElement(node) {\n  return /*#__PURE__*/isValidElement(node) && !isFragment(node);\n}\nexport const supportNodeRef = node => {\n  return isReactElement(node) && supportRef(node);\n};\n\n/**\n * In React 19. `ref` is not a property from node.\n * But a property from `props.ref`.\n * To check if `props.ref` exist or fallback to `ref`.\n */\nexport const getNodeRef = node => {\n  if (node && isReactElement(node)) {\n    const ele = node;\n\n    // Source from:\n    // https://github.com/mui/material-ui/blob/master/packages/mui-utils/src/getReactNodeRef/getReactNodeRef.ts\n    return ele.props.propertyIsEnumerable('ref') ? ele.props.ref : ele.ref;\n  }\n  return null;\n};","map":{"version":3,"names":["isValidElement","version","ForwardRef","isMemo","useMemo","isFragment","ReactMajorVersion","Number","split","fillRef","ref","node","current","composeRef","_len","arguments","length","refs","Array","_key","refList","filter","Boolean","forEach","useComposeRef","_len2","_key2","prev","next","every","i","supportRef","nodeOrComponent","isReactElement","type","prototype","render","$$typeof","supportNodeRef","getNodeRef","ele","props","propertyIsEnumerable"],"sources":["/Users/ponpon/project/ski/node_modules/@rc-component/util/es/ref.js"],"sourcesContent":["import { isValidElement, version } from 'react';\nimport { ForwardRef, isMemo } from 'react-is';\nimport useMemo from \"./hooks/useMemo\";\nimport isFragment from \"./React/isFragment\";\nconst ReactMajorVersion = Number(version.split('.')[0]);\nexport const fillRef = (ref, node) => {\n  if (typeof ref === 'function') {\n    ref(node);\n  } else if (typeof ref === 'object' && ref && 'current' in ref) {\n    ref.current = node;\n  }\n};\n\n/**\n * Merge refs into one ref function to support ref passing.\n */\nexport const composeRef = (...refs) => {\n  const refList = refs.filter(Boolean);\n  if (refList.length <= 1) {\n    return refList[0];\n  }\n  return node => {\n    refs.forEach(ref => {\n      fillRef(ref, node);\n    });\n  };\n};\nexport const useComposeRef = (...refs) => {\n  return useMemo(() => composeRef(...refs),\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  refs, (prev, next) => prev.length !== next.length || prev.every((ref, i) => ref !== next[i]));\n};\nexport const supportRef = nodeOrComponent => {\n  if (!nodeOrComponent) {\n    return false;\n  }\n\n  // React 19 no need `forwardRef` anymore. So just pass if is a React element.\n  if (isReactElement(nodeOrComponent) && ReactMajorVersion >= 19) {\n    return true;\n  }\n  const type = isMemo(nodeOrComponent) ? nodeOrComponent.type.type : nodeOrComponent.type;\n\n  // Function component node\n  if (typeof type === 'function' && !type.prototype?.render && type.$$typeof !== ForwardRef) {\n    return false;\n  }\n\n  // Class component\n  if (typeof nodeOrComponent === 'function' && !nodeOrComponent.prototype?.render && nodeOrComponent.$$typeof !== ForwardRef) {\n    return false;\n  }\n  return true;\n};\nfunction isReactElement(node) {\n  return /*#__PURE__*/isValidElement(node) && !isFragment(node);\n}\nexport const supportNodeRef = node => {\n  return isReactElement(node) && supportRef(node);\n};\n\n/**\n * In React 19. `ref` is not a property from node.\n * But a property from `props.ref`.\n * To check if `props.ref` exist or fallback to `ref`.\n */\nexport const getNodeRef = node => {\n  if (node && isReactElement(node)) {\n    const ele = node;\n\n    // Source from:\n    // https://github.com/mui/material-ui/blob/master/packages/mui-utils/src/getReactNodeRef/getReactNodeRef.ts\n    return ele.props.propertyIsEnumerable('ref') ? ele.props.ref : ele.ref;\n  }\n  return null;\n};"],"mappings":"AAAA,SAASA,cAAc,EAAEC,OAAO,QAAQ,OAAO;AAC/C,SAASC,UAAU,EAAEC,MAAM,QAAQ,UAAU;AAC7C,OAAOC,OAAO,MAAM,iBAAiB;AACrC,OAAOC,UAAU,MAAM,oBAAoB;AAC3C,MAAMC,iBAAiB,GAAGC,MAAM,CAACN,OAAO,CAACO,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;AACvD,OAAO,MAAMC,OAAO,GAAGA,CAACC,GAAG,EAAEC,IAAI,KAAK;EACpC,IAAI,OAAOD,GAAG,KAAK,UAAU,EAAE;IAC7BA,GAAG,CAACC,IAAI,CAAC;EACX,CAAC,MAAM,IAAI,OAAOD,GAAG,KAAK,QAAQ,IAAIA,GAAG,IAAI,SAAS,IAAIA,GAAG,EAAE;IAC7DA,GAAG,CAACE,OAAO,GAAGD,IAAI;EACpB;AACF,CAAC;;AAED;AACA;AACA;AACA,OAAO,MAAME,UAAU,GAAG,SAAAA,CAAA,EAAa;EAAA,SAAAC,IAAA,GAAAC,SAAA,CAAAC,MAAA,EAATC,IAAI,OAAAC,KAAA,CAAAJ,IAAA,GAAAK,IAAA,MAAAA,IAAA,GAAAL,IAAA,EAAAK,IAAA;IAAJF,IAAI,CAAAE,IAAA,IAAAJ,SAAA,CAAAI,IAAA;EAAA;EAChC,MAAMC,OAAO,GAAGH,IAAI,CAACI,MAAM,CAACC,OAAO,CAAC;EACpC,IAAIF,OAAO,CAACJ,MAAM,IAAI,CAAC,EAAE;IACvB,OAAOI,OAAO,CAAC,CAAC,CAAC;EACnB;EACA,OAAOT,IAAI,IAAI;IACbM,IAAI,CAACM,OAAO,CAACb,GAAG,IAAI;MAClBD,OAAO,CAACC,GAAG,EAAEC,IAAI,CAAC;IACpB,CAAC,CAAC;EACJ,CAAC;AACH,CAAC;AACD,OAAO,MAAMa,aAAa,GAAG,SAAAA,CAAA,EAAa;EAAA,SAAAC,KAAA,GAAAV,SAAA,CAAAC,MAAA,EAATC,IAAI,OAAAC,KAAA,CAAAO,KAAA,GAAAC,KAAA,MAAAA,KAAA,GAAAD,KAAA,EAAAC,KAAA;IAAJT,IAAI,CAAAS,KAAA,IAAAX,SAAA,CAAAW,KAAA;EAAA;EACnC,OAAOtB,OAAO,CAAC,MAAMS,UAAU,CAAC,GAAGI,IAAI,CAAC;EACxC;EACAA,IAAI,EAAE,CAACU,IAAI,EAAEC,IAAI,KAAKD,IAAI,CAACX,MAAM,KAAKY,IAAI,CAACZ,MAAM,IAAIW,IAAI,CAACE,KAAK,CAAC,CAACnB,GAAG,EAAEoB,CAAC,KAAKpB,GAAG,KAAKkB,IAAI,CAACE,CAAC,CAAC,CAAC,CAAC;AAC/F,CAAC;AACD,OAAO,MAAMC,UAAU,GAAGC,eAAe,IAAI;EAC3C,IAAI,CAACA,eAAe,EAAE;IACpB,OAAO,KAAK;EACd;;EAEA;EACA,IAAIC,cAAc,CAACD,eAAe,CAAC,IAAI1B,iBAAiB,IAAI,EAAE,EAAE;IAC9D,OAAO,IAAI;EACb;EACA,MAAM4B,IAAI,GAAG/B,MAAM,CAAC6B,eAAe,CAAC,GAAGA,eAAe,CAACE,IAAI,CAACA,IAAI,GAAGF,eAAe,CAACE,IAAI;;EAEvF;EACA,IAAI,OAAOA,IAAI,KAAK,UAAU,IAAI,CAACA,IAAI,CAACC,SAAS,EAAEC,MAAM,IAAIF,IAAI,CAACG,QAAQ,KAAKnC,UAAU,EAAE;IACzF,OAAO,KAAK;EACd;;EAEA;EACA,IAAI,OAAO8B,eAAe,KAAK,UAAU,IAAI,CAACA,eAAe,CAACG,SAAS,EAAEC,MAAM,IAAIJ,eAAe,CAACK,QAAQ,KAAKnC,UAAU,EAAE;IAC1H,OAAO,KAAK;EACd;EACA,OAAO,IAAI;AACb,CAAC;AACD,SAAS+B,cAAcA,CAACtB,IAAI,EAAE;EAC5B,OAAO,aAAaX,cAAc,CAACW,IAAI,CAAC,IAAI,CAACN,UAAU,CAACM,IAAI,CAAC;AAC/D;AACA,OAAO,MAAM2B,cAAc,GAAG3B,IAAI,IAAI;EACpC,OAAOsB,cAAc,CAACtB,IAAI,CAAC,IAAIoB,UAAU,CAACpB,IAAI,CAAC;AACjD,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,OAAO,MAAM4B,UAAU,GAAG5B,IAAI,IAAI;EAChC,IAAIA,IAAI,IAAIsB,cAAc,CAACtB,IAAI,CAAC,EAAE;IAChC,MAAM6B,GAAG,GAAG7B,IAAI;;IAEhB;IACA;IACA,OAAO6B,GAAG,CAACC,KAAK,CAACC,oBAAoB,CAAC,KAAK,CAAC,GAAGF,GAAG,CAACC,KAAK,CAAC/B,GAAG,GAAG8B,GAAG,CAAC9B,GAAG;EACxE;EACA,OAAO,IAAI;AACb,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}